<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="css/login.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="jquery.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
      <script src = "ttps://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <title>login</title>
    <script>
        var letsGo = false;
        var Go = false;
function register(){
    if(document.getElementById("name").value==""){
        document.getElementById("error_name").innerHTML="This field is required!";
        Go = false;
    }
    if(document.getElementById("email").value==""){
        document.getElementById("error_email").innerHTML="This field is required!";
        Go = false;
    }
    if(document.getElementById("password").value==""){
        document.getElementById("error_password").innerHTML="This field is required!";
        Go = false;
    }
    if(document.getElementById("retype_password").value==""){
        document.getElementById("retype_password_error").innerHTML="This field is required!";
        Go = false;
    }
 
// Check browser support
if (typeof(Storage) !== "undefined") {
  // Store
  localStorage.setItem("lastname", document.getElementById("name").value);
  localStorage.setItem("email", document.getElementById("email").value);
  localStorage.setItem("pass", document.getElementById("password").value);
  if(Go == true){
  document.getElementById("register").style.display = "none";
  document.getElementById("login").style.display = "block";
  }
  } else {
  document.getElementById("result").innerHTML = "Sorry, your browser does not support Web Storage...";
  }
  }
  
function checking(){
	if(localStorage.getItem("email")==document.getElementById("login-email").value){
        if(localStorage.getItem("pass")==document.getElementById("login-password").value){
            letsGo = true;
            document.getElementById("submit").href = "F:/Ranjit Singh/jc practise/PROJECT/home.html?price="+localStorage.getItem("lastname");
        }else{
            document.getElementById("password-error").innerHTML="Invalid password."
            letsGo = false;
        }
    }
    else{
        document.getElementById("email-error").innerHTML="Invalid Email Id."
        letsGo = false;
    }
    
    
    
}

     
      


        $(document).ready(function(){

            $("#error_name").show();
/*
validate resistration
*/
            $("#name").focusout(function() {
		
	
        var username_length = $("#name").val().length;
        
        if(username_length < 5 || username_length > 20) {
            
            $("#error_name").html("Your username must be between 5-20 characters");
            $("#error_name").show();
             Go = false
            
        } else {
            $("#error_name").hide();
            Go = true
        }

});

$("#password").focusout(function() {

    var password_length = $("#password").val().length;
    
    if(password_length < 8) {
        $("#error_password").html("Your password must be at least 8 characters");
        $("#error_password").show();
        Go = false;
    } else {
        $("#error_password").hide();
        Go = true;
    }

});

$("#retype_password").focusout(function() {

var password = $("#password").val();
var retype_password = $("#retype_password").val();

if(password !=  retype_password) {
    $("#retype_password_error").html("Your passwords does not match");
    $("#retype_password_error").show();
    Go = false;
} else {
    $("#retype_password_error").hide();
    Go = true
}

});

$("#email").focusout(function() {

var pattern = new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);

if(pattern.test($("#email").val())) {
    $("#error_email").hide();
    Go = true;
} else {
    $("#error_email").html("Invalid email address");
    $("#error_email").show();
    Go = false;
}

        });
    




});

    





    </script>
</head>
<body>
    
    <div id="register">
        <h1 class="head">Register Here.</h1>
        <table style="width:100%">
            <tr>
              <td>Name:</td>
              <td><input id="name" type="text"><span id="error_name"></span><br></td> 
              
            </tr>
            <tr>
              <td>E_mail:</td>
              <td><input id="email" type="email"><span id="error_email"></span><br></td>

            </tr>
            <tr>
              <td>Password:</td>
              <td><input id="password" type="password"><span id="error_password"></span><br></td>
              
            </tr>
            <tr>
              <td>Re-Type Password:</td>
              <td><input id="retype_password" type="password"><span id="retype_password_error"></span><br></td>

            </tr>
            <tr>
              <td></td>
              <td><button id="btn-register" onclick="register()">register</button><span id="register-result"></span></td>

            </tr>
          </table>
   </div>
    <div id="login">
        <h1>Registered Successfully</h1>
        <p>Login!!!</p>
        <table style="width:100%">
            <tr>
                <td>E_mail:</td>
                <td><input id="login-email" type="email" ><span id="email-error"></span><br></td>
            </tr>
            <tr>
                <td>Password:</td>
                <td><input id="login-password" type ="password"><span id="password-error"></span><br></td>
            </tr>
            <tr>
                <td></td>
                <td><a class="button" id="submit" href="#" onclick="checking()">login</a></td>
            </tr>
        </table>
        
        
    </div>
</body>
</html>
